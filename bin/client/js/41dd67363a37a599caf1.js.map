{"version":3,"sources":["webpack:///./app.js"],"names":["library","add","faTag","faSearch","App","props","_this","_classCallCheck","this","_getPrototypeOf","call","logout","bind","_assertThisInitialized","isLogged","state","auth","isJunior","Component","_this2","axios","get","then","response","console","log","data","status","admin","setState","reponse","error","localStorage","removeItem","window","location","_this3","RoutingAuth","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","Fragment","className","_Containers_Components_Navbar__WEBPACK_IMPORTED_MODULE_12__","isLogout","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","react_router_dom__WEBPACK_IMPORTED_MODULE_5__","exact","path","component","Homepage","AddBook","AddLoan","Catalogue","EditProfil","render","_Containers_Pages_Homepage__WEBPACK_IMPORTED_MODULE_8__","Register","Error404","_Containers_Pages_Authentification_Login__WEBPACK_IMPORTED_MODULE_6__","ReactDOM","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","document","getElementById"],"mappings":"g/BAsBAA,IAAQC,IAAIC,KACZF,IAAQC,IAAIE,SAENC,cACF,SAAAA,EAAYC,GAAO,IAAAC,MAAA,mGAAAC,CAAAC,KAAAJ,KACfI,MAAAF,MAAAG,EAAAL,GAAAM,KAAAF,KAAMH,mDACDM,OAASL,EAAKK,OAAOC,KAAZC,IAAAP,KACdA,EAAKQ,SAAWR,EAAKQ,SAASF,KAAdC,IAAAP,KAEhBA,EAAKS,MAAQ,CACTC,MAAM,EACNC,UAAU,GAPCX,wPADLY,mEAYO,IAAAC,EAAAX,KACjBY,IACKC,IAAI,6BACJC,KAAK,SAAAC,GACFC,QAAQC,IAAIF,EAASG,MAEG,MAApBH,EAASI,SACmB,IAAxBJ,EAASG,KAAKE,OACdT,EAAKU,SAAS,CACVb,MAAM,EACNC,UAAU,KAIS,IAAvBa,QAAQJ,KAAKE,OACbT,EAAKU,SAAS,CACVb,MAAM,EACNC,UAAU,KAIlBE,EAAKU,SAAS,CACVb,MAAM,MAIjBM,KAAK,SAAAS,GACFP,QAAQC,IAAIM,wCAKpBP,QAAQC,IAAI,aAEZjB,KAAKqB,SAAS,CACVb,MAAM,qCAKVQ,QAAQC,IAAI,UAEZjB,KAAKqB,SAAS,CACVb,MAAM,EACNC,UAAU,IAGde,aAAaC,WAAW,SACxBC,OAAOC,SAAW,qCAGb,IAAAC,EAAA5B,KACD6B,EAAc,GAkElB,OA/DIA,EADA7B,KAAKO,MAAMC,KAEPsB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACIH,EAAAC,EAAAC,cAAA,OAAKE,UAAU,OACXJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eACXJ,EAAAC,EAAAC,cAACG,EAAA,EAAD,CACI1B,SAAUT,KAAKO,MAAME,SACrB2B,SAAUpC,KAAKG,SAEnB2B,EAAAC,EAAAC,cAACK,EAAA,EAAD,KACIP,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWC,MACjCZ,EAAAC,EAAAC,cAACM,EAAA,EAAD,CACIC,OAAK,EACLC,KAAK,WACLC,UAAWE,MAEfb,EAAAC,EAAAC,cAACM,EAAA,EAAD,CACIC,OAAK,EACLC,KAAK,WACLC,UAAWG,MAEfd,EAAAC,EAAAC,cAACM,EAAA,EAAD,CACIC,OAAK,EACLC,KAAK,aACLC,UAAWI,MAEff,EAAAC,EAAAC,cAACM,EAAA,EAAD,CACIC,OAAK,EACLC,KAAK,cACLC,UAAWK,MAEfhB,EAAAC,EAAAC,cAACM,EAAA,EAAD,CACIC,OAAK,EACLC,KAAK,SACLC,UAAWC,IACXK,OAAQ,kBACJjB,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CACIvC,SAAUmB,EAAKrB,MAAME,cAIjCqB,EAAAC,EAAAC,cAACM,EAAA,EAAD,CACIC,OAAK,EACLC,KAAK,YACLC,UAAWQ,MAEfnB,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWS,UAQjDpB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACIH,EAAAC,EAAAC,cAACM,EAAA,EAAD,CACIC,OAAK,EACLC,KAAK,IACLO,OAAQ,kBAAMjB,EAAAC,EAAAC,cAACmB,EAAA,EAAD,CAAO7C,SAAUsB,EAAKtB,eAM7CwB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,OAAOL,wCAIrCuB,IAASL,OACLjB,EAAAC,EAAAC,cAACqB,EAAA,EAAD,KACIvB,EAAAC,EAAAC,cAACpC,EAAD,OAEJ0D,SAASC,eAAe","file":"js/41dd67363a37a599caf1.js","sourcesContent":["import React, {Component} from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport axios from \"axios\";\n// import registerServiceWorker from \"./registerServiceWorker\";\nimport {Route, Switch} from \"react-router-dom\";\nimport {Login} from \"./Containers/Pages/Authentification/Login\";\nimport {Register} from \"./Containers/Pages/Authentification/Register\";\nimport {Homepage} from \"./Containers/Pages/Homepage\";\nimport {AddBook} from \"./Containers/Pages/Catalogue/AddBook\";\nimport {AddLoan} from \"./Containers/Pages/Catalogue/AddLoan\";\nimport {EditProfil} from \"./Containers/Pages/Catalogue/EditProfil\";\nimport {NavBar} from \"./Containers/Components/Navbar\";\nimport {Catalogue} from \"./Containers/Pages/Catalogue/Catalogue\";\nimport {library} from \"@fortawesome/fontawesome-svg-core\";\nimport {faTag} from \"@fortawesome/free-solid-svg-icons\";\nimport {faSearch} from \"@fortawesome/free-solid-svg-icons\";\nimport {Error404} from \"./Containers/Pages/Authentification/404\";\nimport \"./scss/app.scss\";\n\n// import {devpage} from \"./Containers/Pages/Authentification/devpage\";\n\nlibrary.add(faTag);\nlibrary.add(faSearch);\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.logout = this.logout.bind(this);\n        this.isLogged = this.isLogged.bind(this);\n\n        this.state = {\n            auth: false,\n            isJunior: false,\n        };\n    }\n\n    componentDidUpdate() {\n        axios\n            .get(\"http://localhost/api/auth\")\n            .then(response => {\n                console.log(response.data);\n\n                if (response.status === 200) {\n                    if (response.data.admin === true) {\n                        this.setState({\n                            auth: true,\n                            isJunior: false,\n                        });\n                    }\n\n                    if (reponse.data.admin === false) {\n                        this.setState({\n                            auth: true,\n                            isJunior: true,\n                        });\n                    }\n                } else {\n                    this.setState({\n                        auth: false,\n                    });\n                }\n            })\n            .then(error => {\n                console.log(error);\n            });\n    }\n\n    isLogged() {\n        console.log(\"is Logged\");\n\n        this.setState({\n            auth: true,\n        });\n    }\n\n    logout() {\n        console.log(\"Logout\");\n\n        this.setState({\n            auth: false,\n            isJunior: false,\n        });\n\n        localStorage.removeItem(\"token\");\n        window.location = \"/\";\n    }\n\n    render() {\n        let RoutingAuth = \"\";\n\n        if (this.state.auth) {\n            RoutingAuth = (\n                <>\n                    <div className=\"App\">\n                        <div className=\"App-content\">\n                            <NavBar\n                                isJunior={this.state.isJunior}\n                                isLogout={this.logout}\n                            />\n                            <Switch>\n                                <Route exact path=\"/\" component={Homepage} />\n                                <Route\n                                    exact\n                                    path=\"/addbook\"\n                                    component={AddBook}\n                                />\n                                <Route\n                                    exact\n                                    path=\"/addloan\"\n                                    component={AddLoan}\n                                />\n                                <Route\n                                    exact\n                                    path=\"/catalogue\"\n                                    component={Catalogue}\n                                />\n                                <Route\n                                    exact\n                                    path=\"/editprofil\"\n                                    component={EditProfil}\n                                />\n                                <Route\n                                    exact\n                                    path=\"/admin\"\n                                    component={Homepage}\n                                    render={() => (\n                                        <Homepage\n                                            isJunior={this.state.isJunior}\n                                        />\n                                    )}\n                                />\n                                <Route\n                                    exact\n                                    path=\"/Register\"\n                                    component={Register}\n                                />\n                                <Route exact path=\"*\" component={Error404} />\n                            </Switch>\n                        </div>\n                    </div>\n                </>\n            );\n        } else {\n            RoutingAuth = (\n                <>\n                    <Route\n                        exact\n                        path=\"/\"\n                        render={() => <Login isLogged={this.isLogged} />}\n                    />\n                </>\n            );\n        }\n\n        return <div className=\"App\">{RoutingAuth}</div>;\n    }\n}\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>,\n    document.getElementById(\"app\"),\n);\n// registerServiceWorker();\n"],"sourceRoot":""}